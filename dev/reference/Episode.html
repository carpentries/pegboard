<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Class representing XML source of a Carpentries episode — Episode • pegboard</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Class representing XML source of a Carpentries episode — Episode"><meta name="description" content="Wrapper around an xml document to manipulate and inspect Carpentries episodes"><meta property="og:description" content="Wrapper around an xml document to manipulate and inspect Carpentries episodes"><meta property="og:image" content="https://carpentries.github.io/pegboard/logo.png"><meta name="twitter:card" content="summary"><meta name="twitter:creator" content="@zkamvar"><meta name="twitter:site" content="@thecarpentries"><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">pegboard</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.7.7.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/intro-xml.html">Working with XML data</a></li>
    <li><a class="dropdown-item" href="../articles/intro-episode.html">Introduction to the Episode Object</a></li>
    <li><a class="dropdown-item" href="../articles/intro-lesson.html">Introduction to the Lesson Object</a></li>
    <li><a class="dropdown-item" href="../articles/validation.html">Validation of Lesson Elements</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/carpentries/pegboard/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Class representing XML source of a Carpentries episode</h1>
      <small class="dont-index">Source: <a href="https://github.com/carpentries/pegboard/blob/main/R/Episode.R" class="external-link"><code>R/Episode.R</code></a></small>
      <div class="d-none name"><code>Episode.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Wrapper around an xml document to manipulate and inspect Carpentries episodes</p>
    </div>


    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The Episode class is a superclass of <code><a href="https://docs.ropensci.org/tinkr/reference/yarn.html" class="external-link">tinkr::yarn()</a></code>, which transforms
(commonmark-formatted) Markdown to XML and back again. The extension that
the Episode class provides is support for both <a href="https://pandoc.org" class="external-link">Pandoc</a>
and <a href="https://kramdown.gettalong.org/" class="external-link">kramdown</a> flavours of Markdown.</p>
<p>Read more about this class in <code><a href="../articles/intro-episode.html">vignette("intro-episode", package = "pegboard")</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>The current XLST spec for tinkr does not support kramdown, which
the Carpentries Episodes are styled with, thus some block tags will be
destructively modified in the conversion.</p>
    </div>
    <div class="section level2">
    <h2 id="super-class">Super class<a class="anchor" aria-label="anchor" href="#super-class"></a></h2>
    <p><code><a href="https://docs.ropensci.org/tinkr/reference/yarn.html" class="external-link">tinkr::yarn</a></code> -&gt; <code>Episode</code></p>
    </div>
    <div class="section level2">
    <h2 id="public-fields">Public fields<a class="anchor" aria-label="anchor" href="#public-fields"></a></h2>
    <p></p><div class="r6-fields"><dl><dt><code>children</code></dt>
<dd><p>[<code>character</code>] a vector of absolute paths to child
files if they exist.</p></dd>


<dt><code>parents</code></dt>
<dd><p>[<code>character</code>] a vector of absolute paths to immediate
parent files if they exist</p></dd>


<dt><code>build_parents</code></dt>
<dd><p>[<code>character</code>] a vector of absolute paths to the
final parent files that will trigger this child file to build</p></dd>


</dl><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="active-bindings">Active bindings<a class="anchor" aria-label="anchor" href="#active-bindings"></a></h2>
    <p></p><div class="r6-active-bindings"><dl><dt><code>show_problems</code></dt>
<dd><p>[<code>list</code>] a list of all the problems that occurred in parsing the episode</p></dd>


<dt><code>headings</code></dt>
<dd><p>[<code>xml_nodeset</code>] all headings in the document</p></dd>


<dt><code>links</code></dt>
<dd><p>[<code>xml_nodeset</code>] all links (not images) in the document</p></dd>


<dt><code>images</code></dt>
<dd><p>[<code>xml_nodeset</code>] all image sources in the document</p></dd>


<dt><code>tags</code></dt>
<dd><p>[<code>xml_nodeset</code>] all the kramdown tags from the episode</p></dd>


<dt><code>questions</code></dt>
<dd><p>[<code>character</code>] the questions from the episode</p></dd>


<dt><code>keypoints</code></dt>
<dd><p>[<code>character</code>] the keypoints from the episode</p></dd>


<dt><code>objectives</code></dt>
<dd><p>[<code>character</code>] the objectives from the episode</p></dd>


<dt><code>challenges</code></dt>
<dd><p>[<code>xml_nodeset</code>] all the challenges blocks from the episode</p></dd>


<dt><code>solutions</code></dt>
<dd><p>[<code>xml_nodeset</code>] all the solutions blocks from the episode</p></dd>


<dt><code>output</code></dt>
<dd><p>[<code>xml_nodeset</code>] all the output blocks from the episode</p></dd>


<dt><code>error</code></dt>
<dd><p>[<code>xml_nodeset</code>] all the error blocks from the episode</p></dd>


<dt><code>warning</code></dt>
<dd><p>[<code>xml_nodeset</code>] all the warning blocks from the episode</p></dd>


<dt><code>code</code></dt>
<dd><p>[<code>xml_nodeset</code>] all the code blocks from the episode</p></dd>


<dt><code>name</code></dt>
<dd><p>[<code>character</code>] the name of the source file without the path</p></dd>


<dt><code>lesson</code></dt>
<dd><p>[<code>character</code>] the path to the lesson where the episode is from</p></dd>


<dt><code>has_children</code></dt>
<dd><p>[<code>logical</code>] an indicator of the presence of child
files (<code>TRUE</code>) or their absence (<code>FALSE</code>)</p></dd>


<dt><code>has_parents</code></dt>
<dd><p>[<code>logical</code>] an indicator of the presence of parent
files (<code>TRUE</code>) or their absence (<code>FALSE</code>)</p></dd>


</dl><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>

<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-Episode-new"><code>Episode$new()</code></a></p></li>
<li><p><a href="#method-Episode-confirm_sandpaper"><code>Episode$confirm_sandpaper()</code></a></p></li>
<li><p><a href="#method-Episode-get_blocks"><code>Episode$get_blocks()</code></a></p></li>
<li><p><a href="#method-Episode-get_images"><code>Episode$get_images()</code></a></p></li>
<li><p><a href="#method-Episode-label_divs"><code>Episode$label_divs()</code></a></p></li>
<li><p><a href="#method-Episode-get_divs"><code>Episode$get_divs()</code></a></p></li>
<li><p><a href="#method-Episode-get_yaml"><code>Episode$get_yaml()</code></a></p></li>
<li><p><a href="#method-Episode-use_dovetail"><code>Episode$use_dovetail()</code></a></p></li>
<li><p><a href="#method-Episode-use_sandpaper"><code>Episode$use_sandpaper()</code></a></p></li>
<li><p><a href="#method-Episode-remove_error"><code>Episode$remove_error()</code></a></p></li>
<li><p><a href="#method-Episode-remove_output"><code>Episode$remove_output()</code></a></p></li>
<li><p><a href="#method-Episode-move_objectives"><code>Episode$move_objectives()</code></a></p></li>
<li><p><a href="#method-Episode-move_keypoints"><code>Episode$move_keypoints()</code></a></p></li>
<li><p><a href="#method-Episode-move_questions"><code>Episode$move_questions()</code></a></p></li>
<li><p><a href="#method-Episode-get_challenge_graph"><code>Episode$get_challenge_graph()</code></a></p></li>
<li><p><a href="#method-Episode-show"><code>Episode$show()</code></a></p></li>
<li><p><a href="#method-Episode-head"><code>Episode$head()</code></a></p></li>
<li><p><a href="#method-Episode-tail"><code>Episode$tail()</code></a></p></li>
<li><p><a href="#method-Episode-write"><code>Episode$write()</code></a></p></li>
<li><p><a href="#method-Episode-handout"><code>Episode$handout()</code></a></p></li>
<li><p><a href="#method-Episode-reset"><code>Episode$reset()</code></a></p></li>
<li><p><a href="#method-Episode-isolate_blocks"><code>Episode$isolate_blocks()</code></a></p></li>
<li><p><a href="#method-Episode-unblock"><code>Episode$unblock()</code></a></p></li>
<li><p><a href="#method-Episode-summary"><code>Episode$summary()</code></a></p></li>
<li><p><a href="#method-Episode-validate_headings"><code>Episode$validate_headings()</code></a></p></li>
<li><p><a href="#method-Episode-validate_divs"><code>Episode$validate_divs()</code></a></p></li>
<li><p><a href="#method-Episode-validate_links"><code>Episode$validate_links()</code></a></p></li>
<li><p><a href="#method-Episode-clone"><code>Episode$clone()</code></a></p></li>
</ul></div><p><details><summary>Inherited methods</summary><ul><li><span class="pkg-link" data-pkg="tinkr" data-topic="yarn" data-id="add_md"><a href="https://docs.ropensci.org/tinkr/reference/yarn.html#method-add_md"><code>tinkr::yarn$add_md()</code></a></span></li>
<li><span class="pkg-link" data-pkg="tinkr" data-topic="yarn" data-id="get_protected"><a href="https://docs.ropensci.org/tinkr/reference/yarn.html#method-get_protected"><code>tinkr::yarn$get_protected()</code></a></span></li>
<li><span class="pkg-link" data-pkg="tinkr" data-topic="yarn" data-id="md_vec"><a href="https://docs.ropensci.org/tinkr/reference/yarn.html#method-md_vec"><code>tinkr::yarn$md_vec()</code></a></span></li>
<li><span class="pkg-link" data-pkg="tinkr" data-topic="yarn" data-id="protect_curly"><a href="https://docs.ropensci.org/tinkr/reference/yarn.html#method-protect_curly"><code>tinkr::yarn$protect_curly()</code></a></span></li>
<li><span class="pkg-link" data-pkg="tinkr" data-topic="yarn" data-id="protect_math"><a href="https://docs.ropensci.org/tinkr/reference/yarn.html#method-protect_math"><code>tinkr::yarn$protect_math()</code></a></span></li>
<li><span class="pkg-link" data-pkg="tinkr" data-topic="yarn" data-id="protect_unescaped"><a href="https://docs.ropensci.org/tinkr/reference/yarn.html#method-protect_unescaped"><code>tinkr::yarn$protect_unescaped()</code></a></span></li>
</ul></details></p><hr><a id="method-Episode-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Create a new Episode</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/Episode.html">Episode</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span>
<span>  path <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  process_tags <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  fix_links <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  fix_liquid <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  parents <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>path</code></dt>
<dd><p>[<code>character</code>] path to a markdown episode file on disk</p></dd>


<dt><code>process_tags</code></dt>
<dd><p>[<code>logical</code>] if <code>TRUE</code> (default), kramdown tags will
be processed into attributes of the parent nodes. If <code>FALSE</code>, these
tags will be treated as text</p></dd>


<dt><code>fix_links</code></dt>
<dd><p>[<code>logical</code>] if <code>TRUE</code> (default), links pointing to
liquid tags (e.g. <code>{{ page.root }}</code>) and included links (those supplied
by a call to <code>{\% import links.md \%}</code>) will be appropriately processed
as valid links.</p></dd>


<dt><code>fix_liquid</code></dt>
<dd><p>[<code>logical</code>] defaults to <code>FALSE</code>, which means data is
immediately passed to <a href="https://docs.ropensci.org/tinkr/reference/yarn.html" class="external-link">tinkr::yarn</a>. If <code>TRUE</code>, all liquid variables
in relative links have spaces removed to allow the commonmark parser to
interpret them as links.</p></dd>


<dt><code>parents</code></dt>
<dd><p>[<code>list</code>] a list of <code>Episode</code> objects that represent the
immediate parents of this child</p></dd>


<dt><code>...</code></dt>
<dd><p>arguments passed on to <a href="https://docs.ropensci.org/tinkr/reference/yarn.html" class="external-link">tinkr::yarn</a> and <code><a href="https://docs.ropensci.org/tinkr/reference/to_xml.html" class="external-link">tinkr::to_xml()</a></code></p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p>A new Episode object with extracted XML data</p>
</div>
<div class="section">
<h4 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va">scope</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/Episode.html">Episode</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="../reference/lesson_fragment.html">lesson_fragment</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"_episodes"</span>, <span class="st">"17-scope.md"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">scope</span><span class="op">$</span><span class="va">name</span></span>
<span><span class="va">scope</span><span class="op">$</span><span class="va">lesson</span></span>
<span><span class="va">scope</span><span class="op">$</span><span class="va">challenges</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Episode-confirm_sandpaper"></a><div class="section">
<h3 id="method-confirm-sandpaper-">Method <code>confirm_sandpaper()</code><a class="anchor" aria-label="anchor" href="#method-confirm-sandpaper-"></a></h3>
<p>enforce that the episode is a sandpaper episode withtout
going through the conversion steps. The default Episodes from pegboard
were assumed to be generated using Jekyll with kramdown syntax. This is
a bit of a kludge to bypass the normal checks for kramdown syntax and
just assume pandoc syntax</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Episode</span><span class="op">$</span><span class="fu">confirm_sandpaper</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Episode-get_blocks"></a><div class="section">
<h3 id="method-get-blocks-">Method <code><a href="get_blocks.html">get_blocks()</a></code><a class="anchor" aria-label="anchor" href="#method-get-blocks-"></a></h3>
<p>return all <code>block_quote</code> elements within the Episode</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Episode</span><span class="op">$</span><span class="fu">get_blocks</span><span class="op">(</span>type <span class="op">=</span> <span class="cn">NULL</span>, level <span class="op">=</span> <span class="fl">1L</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>type</code></dt>
<dd><p>the type of block quote in the Jekyll syntax like ".challenge",
".discussion", or ".solution"</p></dd>


<dt><code>level</code></dt>
<dd><p>the level of the block within the document. Defaults to <code>1</code>,
which represents all of the block_quotes are not nested within any other
block quotes. Increase the nubmer to increase the level of nesting.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-1">Returns<a class="anchor" aria-label="anchor" href="#returns-1"></a></h4>
<p>[<code>xml_nodeset</code>] all the blocks from the episode with the given
tag and level.</p>
</div>
<div class="section">
<h4 id="examples-1">Examples<a class="anchor" aria-label="anchor" href="#examples-1"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>scope &lt;- Episode$new(file.path(lesson_fragment(), "_episodes", "17-scope.md"))
# get all the challenges
scope$get_blocks(".challenge")
# get the solutions
scope$get_blocks(".solution", level = 2)
\dontrun{

  # download the source files for r-novice-gampinder into a Lesson object
  rng &lt;- get_lesson("swcarpentry/r-novice-gapminder")
  dsp1 &lt;- rng$episodes[["04-data-structures-part1.md"]]
  # There are 9 blocks in total
  dsp1$get_blocks()
  # One is a callout block
  dsp1$get_blocks(".callout")
  # One is a discussion block
  dsp1$get_blocks(".discussion")
  # Seven are Challenge blocks
  dsp1$get_blocks(".challenge")
  # There are eight solution blocks:
  dsp1$get_blocks(".solution", level = 2L)
}
</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Episode-get_images"></a><div class="section">
<h3 id="method-get-images-">Method <code><a href="get_images.html">get_images()</a></code><a class="anchor" aria-label="anchor" href="#method-get-images-"></a></h3>
<p>fetch the image sources and optionally process them for easier parsing.
The default version of this function is equivalent to the active binding
<code>$images</code>.</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Episode</span><span class="op">$</span><span class="fu">get_images</span><span class="op">(</span>process <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>process</code></dt>
<dd><p>if <code>TRUE</code>, images will be processed via the internal
function <code><a href="process_images.html">process_images()</a></code>, which will add the <code>alt</code> attribute, if
available and extract img nodes from HTML blocks.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-2">Returns<a class="anchor" aria-label="anchor" href="#returns-2"></a></h4>
<p>an <code>xml_nodelist</code></p>
</div>
<div class="section">
<h4 id="examples-2">Examples<a class="anchor" aria-label="anchor" href="#examples-2"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span></span>
<span><span class="va">loop</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/Episode.html">Episode</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="../reference/lesson_fragment.html">lesson_fragment</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"_episodes"</span>, <span class="st">"14-looping-data-sets.md"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">loop</span><span class="op">$</span><span class="fu">get_images</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">loop</span><span class="op">$</span><span class="fu">get_images</span><span class="op">(</span>process <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Episode-label_divs"></a><div class="section">
<h3 id="method-label-divs-">Method <code>label_divs()</code><a class="anchor" aria-label="anchor" href="#method-label-divs-"></a></h3>
<p>label all the div elements within the Episode to extract them with
<code>$get_divs()</code></p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Episode</span><span class="op">$</span><span class="fu">label_divs</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Episode-get_divs"></a><div class="section">
<h3 id="method-get-divs-">Method <code><a href="get_divs.html">get_divs()</a></code><a class="anchor" aria-label="anchor" href="#method-get-divs-"></a></h3>
<p>return all div elements within the Episode</p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Episode</span><span class="op">$</span><span class="fu">get_divs</span><span class="op">(</span>type <span class="op">=</span> <span class="cn">NULL</span>, include <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>type</code></dt>
<dd><p>the type of div tag (e.g. 'challenge' or 'solution')</p></dd>


<dt><code>include</code></dt>
<dd><p><code>\[logical\]</code> if <code>TRUE</code>, the div tags will be included in
the output. Defaults to <code>FALSE</code>, which will only return the text between
the div tags.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-Episode-get_yaml"></a><div class="section">
<h3 id="method-get-yaml-">Method <code>get_yaml()</code><a class="anchor" aria-label="anchor" href="#method-get-yaml-"></a></h3>
<p>Extract the yaml metadata from the episode</p><div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Episode</span><span class="op">$</span><span class="fu">get_yaml</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Episode-use_dovetail"></a><div class="section">
<h3 id="method-use-dovetail-">Method <code>use_dovetail()</code><a class="anchor" aria-label="anchor" href="#method-use-dovetail-"></a></h3>
<p>Ammend or add a setup code block to use <code>{dovetail}</code></p>
<p>This will convert your lesson to use the dovetail R package for
processing specialized block quotes which will do two things:</p><ol><li><p>convert your lesson from md to Rmd</p></li>
<li><p>add to your setup chunk the following code</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(<span class="st">'dovetail'</span>)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">source</span>(<span class="fu">dvt_opts</span>())</span></code></pre><p></p></div></li>
</ol><p>If there is no setup chunk, one will be created. If there is a setup
chunk, then the <code>source</code> and <code>knitr_fig_path</code> calls will be removed.</p><div class="section">
<h4 id="usage-7">Usage<a class="anchor" aria-label="anchor" href="#usage-7"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Episode</span><span class="op">$</span><span class="fu">use_dovetail</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Episode-use_sandpaper"></a><div class="section">
<h3 id="method-use-sandpaper-">Method <code><a href="use_sandpaper.html">use_sandpaper()</a></code><a class="anchor" aria-label="anchor" href="#method-use-sandpaper-"></a></h3>
<p>Use the sandpaper package for processing</p>
<p>This will convert your lesson to use the <code>{sandpaper}</code> R package for
processing the lesson instead of Jekyll (default). Doing this will have
the following effects:</p><ol><li><p>code blocks that were marked with liquid tags (e.g. <code>{: .language-r}</code>
are converted to standard code blocks or Rmarkdown chunks (with
language information at the top of the code block)</p></li>
<li><p>If rmarkdown is used and the lesson contains python code,
<code><a href="https://rstudio.github.io/reticulate/" class="external-link">library('reticulate')</a></code> will be added to the setup chunk of the
lesson.</p></li>
</ol><div class="section">
<h4 id="usage-8">Usage<a class="anchor" aria-label="anchor" href="#usage-8"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Episode</span><span class="op">$</span><span class="fu">use_sandpaper</span><span class="op">(</span>rmd <span class="op">=</span> <span class="cn">FALSE</span>, yml <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a></h4>
<p></p><div class="arguments"><dl><dt><code>rmd</code></dt>
<dd><p>if <code>TRUE</code>, lessons will be converted to RMarkdown documents</p></dd>


<dt><code>yml</code></dt>
<dd><p>the list derived from the yml file for the episode</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-Episode-remove_error"></a><div class="section">
<h3 id="method-remove-error-">Method <code>remove_error()</code><a class="anchor" aria-label="anchor" href="#method-remove-error-"></a></h3>
<p>Remove error blocks</p><div class="section">
<h4 id="usage-9">Usage<a class="anchor" aria-label="anchor" href="#usage-9"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Episode</span><span class="op">$</span><span class="fu">remove_error</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Episode-remove_output"></a><div class="section">
<h3 id="method-remove-output-">Method <code>remove_output()</code><a class="anchor" aria-label="anchor" href="#method-remove-output-"></a></h3>
<p>Remove output blocks</p><div class="section">
<h4 id="usage-10">Usage<a class="anchor" aria-label="anchor" href="#usage-10"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Episode</span><span class="op">$</span><span class="fu">remove_output</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Episode-move_objectives"></a><div class="section">
<h3 id="method-move-objectives-">Method <code>move_objectives()</code><a class="anchor" aria-label="anchor" href="#method-move-objectives-"></a></h3>
<p>move the objectives yaml item to the body</p><div class="section">
<h4 id="usage-11">Usage<a class="anchor" aria-label="anchor" href="#usage-11"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Episode</span><span class="op">$</span><span class="fu">move_objectives</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Episode-move_keypoints"></a><div class="section">
<h3 id="method-move-keypoints-">Method <code>move_keypoints()</code><a class="anchor" aria-label="anchor" href="#method-move-keypoints-"></a></h3>
<p>move the keypoints yaml item to the body</p><div class="section">
<h4 id="usage-12">Usage<a class="anchor" aria-label="anchor" href="#usage-12"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Episode</span><span class="op">$</span><span class="fu">move_keypoints</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Episode-move_questions"></a><div class="section">
<h3 id="method-move-questions-">Method <code>move_questions()</code><a class="anchor" aria-label="anchor" href="#method-move-questions-"></a></h3>
<p>move the questions yaml item to the body</p><div class="section">
<h4 id="usage-13">Usage<a class="anchor" aria-label="anchor" href="#usage-13"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Episode</span><span class="op">$</span><span class="fu">move_questions</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Episode-get_challenge_graph"></a><div class="section">
<h3 id="method-get-challenge-graph-">Method <code>get_challenge_graph()</code><a class="anchor" aria-label="anchor" href="#method-get-challenge-graph-"></a></h3>
<p>Create a graph of the top-level elements for the challenges.</p><div class="section">
<h4 id="usage-14">Usage<a class="anchor" aria-label="anchor" href="#usage-14"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Episode</span><span class="op">$</span><span class="fu">get_challenge_graph</span><span class="op">(</span>recurse <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-5">Arguments<a class="anchor" aria-label="anchor" href="#arguments-5"></a></h4>
<p></p><div class="arguments"><dl><dt><code>recurse</code></dt>
<dd><p>if <code>TRUE</code> (default), the content of the solutions will be
included in the graph; <code>FALSE</code> will keep the solutions as <code>block_quote</code>
elements.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-3">Returns<a class="anchor" aria-label="anchor" href="#returns-3"></a></h4>
<p>a data frame with four columns representing all the elements
within the challenges in the Episode:</p><ul><li><p>Block: The sequential number of the challenge block</p></li>
<li><p>from: the inward elements</p></li>
<li><p>to: the outward elements</p></li>
<li><p>pos: the position in the markdown document</p></li>
</ul><p>Note that there are three special node names:</p><ul><li><p>challenge: start or end of the challenge block</p></li>
<li><p>solution: start of the solution block</p></li>
<li><p>lesson: start of the lesson block</p></li>
</ul></div>
<div class="section">
<h4 id="examples-3">Examples<a class="anchor" aria-label="anchor" href="#examples-3"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va">scope</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/Episode.html">Episode</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="../reference/lesson_fragment.html">lesson_fragment</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"_episodes"</span>, <span class="st">"17-scope.md"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">scope</span><span class="op">$</span><span class="fu">get_challenge_graph</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Episode-show"></a><div class="section">
<h3 id="method-show-">Method <code>show()</code><a class="anchor" aria-label="anchor" href="#method-show-"></a></h3>
<p>show the markdown contents on the screen</p><div class="section">
<h4 id="usage-15">Usage<a class="anchor" aria-label="anchor" href="#usage-15"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Episode</span><span class="op">$</span><span class="fu">show</span><span class="op">(</span>n <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-6">Arguments<a class="anchor" aria-label="anchor" href="#arguments-6"></a></h4>
<p></p><div class="arguments"><dl><dt><code>n</code></dt>
<dd><p>a subset of elements to show, default TRUE for all lines</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-4">Returns<a class="anchor" aria-label="anchor" href="#returns-4"></a></h4>
<p>a character vector with one line for each line of output</p>
</div>
<div class="section">
<h4 id="examples-4">Examples<a class="anchor" aria-label="anchor" href="#examples-4"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va">scope</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/Episode.html">Episode</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="../reference/lesson_fragment.html">lesson_fragment</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"_episodes"</span>, <span class="st">"17-scope.md"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">scope</span><span class="op">$</span><span class="fu">head</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">scope</span><span class="op">$</span><span class="fu">tail</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">scope</span><span class="op">$</span><span class="fu">show</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Episode-head"></a><div class="section">
<h3 id="method-head-">Method <code><a href="https://rdrr.io/r/utils/head.html" class="external-link">head()</a></code><a class="anchor" aria-label="anchor" href="#method-head-"></a></h3>
<p>show the first n lines of markdown contents on the screen</p><div class="section">
<h4 id="usage-16">Usage<a class="anchor" aria-label="anchor" href="#usage-16"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Episode</span><span class="op">$</span><span class="fu">head</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">6L</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-7">Arguments<a class="anchor" aria-label="anchor" href="#arguments-7"></a></h4>
<p></p><div class="arguments"><dl><dt><code>n</code></dt>
<dd><p>the number of lines to show from the top</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-5">Returns<a class="anchor" aria-label="anchor" href="#returns-5"></a></h4>
<p>a character vector with one line for each line of output</p>
</div>

</div><p></p><hr><a id="method-Episode-tail"></a><div class="section">
<h3 id="method-tail-">Method <code><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail()</a></code><a class="anchor" aria-label="anchor" href="#method-tail-"></a></h3>
<p>show the first n lines of markdown contents on the screen</p><div class="section">
<h4 id="usage-17">Usage<a class="anchor" aria-label="anchor" href="#usage-17"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Episode</span><span class="op">$</span><span class="fu">tail</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">6L</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-8">Arguments<a class="anchor" aria-label="anchor" href="#arguments-8"></a></h4>
<p></p><div class="arguments"><dl><dt><code>n</code></dt>
<dd><p>the number of lines to show from the top</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-6">Returns<a class="anchor" aria-label="anchor" href="#returns-6"></a></h4>
<p>a character vector with one line for each line of output</p>
</div>

</div><p></p><hr><a id="method-Episode-write"></a><div class="section">
<h3 id="method-write-">Method <code><a href="https://rdrr.io/r/base/write.html" class="external-link">write()</a></code><a class="anchor" aria-label="anchor" href="#method-write-"></a></h3>
<p>write the episode to disk as markdown</p><div class="section">
<h4 id="usage-18">Usage<a class="anchor" aria-label="anchor" href="#usage-18"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Episode</span><span class="op">$</span><span class="fu">write</span><span class="op">(</span>path <span class="op">=</span> <span class="cn">NULL</span>, format <span class="op">=</span> <span class="st">"md"</span>, edit <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-9">Arguments<a class="anchor" aria-label="anchor" href="#arguments-9"></a></h4>
<p></p><div class="arguments"><dl><dt><code>path</code></dt>
<dd><p>the path to write your file to. Defaults to an empty
directory in your temporary folder</p></dd>


<dt><code>format</code></dt>
<dd><p>one of "md" (default) or "xml". This will
create a file with the correct extension in the path</p></dd>


<dt><code>edit</code></dt>
<dd><p>if <code>TRUE</code>, the file will open in an editor. Defaults to
<code>FALSE</code>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-7">Returns<a class="anchor" aria-label="anchor" href="#returns-7"></a></h4>
<p>the episode object</p>
</div>
<div class="section">
<h4 id="examples-5">Examples<a class="anchor" aria-label="anchor" href="#examples-5"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va">scope</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/Episode.html">Episode</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="../reference/lesson_fragment.html">lesson_fragment</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"_episodes"</span>, <span class="st">"17-scope.md"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">scope</span><span class="op">$</span><span class="fu">write</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Episode-handout"></a><div class="section">
<h3 id="method-handout-">Method <code>handout()</code><a class="anchor" aria-label="anchor" href="#method-handout-"></a></h3>
<p>Create a trimmed-down RMarkdown document that strips prose and contains
only important code chunks and challenge blocks without solutions.</p><div class="section">
<h4 id="usage-19">Usage<a class="anchor" aria-label="anchor" href="#usage-19"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Episode</span><span class="op">$</span><span class="fu">handout</span><span class="op">(</span>path <span class="op">=</span> <span class="cn">NULL</span>, solutions <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-10">Arguments<a class="anchor" aria-label="anchor" href="#arguments-10"></a></h4>
<p></p><div class="arguments"><dl><dt><code>path</code></dt>
<dd><p>(handout) a path to an R Markdown file to write. If this is
<code>NULL</code>, no file will be written and the lines of the output will be
returned.</p></dd>


<dt><code>solutions</code></dt>
<dd><p>if <code>TRUE</code>, include solutions in the output. Defaults to
<code>FALSE</code>, which removes the solution blocks.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-8">Returns<a class="anchor" aria-label="anchor" href="#returns-8"></a></h4>
<p>a character vector if <code>path = NULL</code>, otherwise, it is called for
the side effect of creating a file.</p>
</div>
<div class="section">
<h4 id="examples-6">Examples<a class="anchor" aria-label="anchor" href="#examples-6"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va">lsn</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/Lesson.html">Lesson</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="fu"><a href="../reference/lesson_fragment.html">lesson_fragment</a></span><span class="op">(</span><span class="st">"sandpaper-fragment"</span><span class="op">)</span>, jekyll <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">e</span> <span class="op">&lt;-</span> <span class="va">lsn</span><span class="op">$</span><span class="va">episodes</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="va">e</span><span class="op">$</span><span class="fu">handout</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="va">e</span><span class="op">$</span><span class="fu">handout</span><span class="op">(</span>solution <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Episode-reset"></a><div class="section">
<h3 id="method-reset-">Method <code>reset()</code><a class="anchor" aria-label="anchor" href="#method-reset-"></a></h3>
<p>Re-read episode from disk</p><div class="section">
<h4 id="usage-20">Usage<a class="anchor" aria-label="anchor" href="#usage-20"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Episode</span><span class="op">$</span><span class="fu">reset</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="returns-9">Returns<a class="anchor" aria-label="anchor" href="#returns-9"></a></h4>
<p>the episode object</p>
</div>
<div class="section">
<h4 id="examples-7">Examples<a class="anchor" aria-label="anchor" href="#examples-7"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va">scope</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/Episode.html">Episode</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="../reference/lesson_fragment.html">lesson_fragment</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"_episodes"</span>, <span class="st">"17-scope.md"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">xml2</span><span class="fu">::</span><span class="fu"><a href="http://xml2.r-lib.org/reference/xml_text.html" class="external-link">xml_text</a></span><span class="op">(</span><span class="va">scope</span><span class="op">$</span><span class="va">tags</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="fu">xml2</span><span class="fu">::</span><span class="fu"><a href="http://xml2.r-lib.org/reference/xml_text.html" class="external-link">xml_set_text</a></span><span class="op">(</span><span class="va">scope</span><span class="op">$</span><span class="va">tags</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="st">"{: .code}"</span><span class="op">)</span></span>
<span><span class="fu">xml2</span><span class="fu">::</span><span class="fu"><a href="http://xml2.r-lib.org/reference/xml_text.html" class="external-link">xml_text</a></span><span class="op">(</span><span class="va">scope</span><span class="op">$</span><span class="va">tags</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">scope</span><span class="op">$</span><span class="fu">reset</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu">xml2</span><span class="fu">::</span><span class="fu"><a href="http://xml2.r-lib.org/reference/xml_text.html" class="external-link">xml_text</a></span><span class="op">(</span><span class="va">scope</span><span class="op">$</span><span class="va">tags</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Episode-isolate_blocks"></a><div class="section">
<h3 id="method-isolate-blocks-">Method <code>isolate_blocks()</code><a class="anchor" aria-label="anchor" href="#method-isolate-blocks-"></a></h3>
<p>Remove all elements except for those within block quotes that have a
kramdown tag. Note that this is a destructive process.</p><div class="section">
<h4 id="usage-21">Usage<a class="anchor" aria-label="anchor" href="#usage-21"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Episode</span><span class="op">$</span><span class="fu">isolate_blocks</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="returns-10">Returns<a class="anchor" aria-label="anchor" href="#returns-10"></a></h4>
<p>the Episode object, invisibly</p>
</div>
<div class="section">
<h4 id="examples-8">Examples<a class="anchor" aria-label="anchor" href="#examples-8"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va">scope</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/Episode.html">Episode</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="../reference/lesson_fragment.html">lesson_fragment</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"_episodes"</span>, <span class="st">"17-scope.md"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">scope</span><span class="op">$</span><span class="va">body</span> <span class="co"># a full document with block quotes and code blocks, etc</span></span>
<span><span class="va">scope</span><span class="op">$</span><span class="fu">isolate_blocks</span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">body</span> <span class="co"># only one challenge block_quote</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Episode-unblock"></a><div class="section">
<h3 id="method-unblock-">Method <code>unblock()</code><a class="anchor" aria-label="anchor" href="#method-unblock-"></a></h3>
<p>convert challenge blocks to roxygen-like code blocks</p><div class="section">
<h4 id="usage-22">Usage<a class="anchor" aria-label="anchor" href="#usage-22"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Episode</span><span class="op">$</span><span class="fu">unblock</span><span class="op">(</span>token <span class="op">=</span> <span class="st">"#'"</span>, force <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-11">Arguments<a class="anchor" aria-label="anchor" href="#arguments-11"></a></h4>
<p></p><div class="arguments"><dl><dt><code>token</code></dt>
<dd><p>the token to use to indicate non-code, Defaults to "#'"</p></dd>


<dt><code>force</code></dt>
<dd><p>force the conversion even if the conversion has already
taken place</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-11">Returns<a class="anchor" aria-label="anchor" href="#returns-11"></a></h4>
<p>the Episode object, invisibly</p>
</div>
<div class="section">
<h4 id="examples-9">Examples<a class="anchor" aria-label="anchor" href="#examples-9"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va">loop</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/Episode.html">Episode</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="../reference/lesson_fragment.html">lesson_fragment</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"_episodes"</span>, <span class="st">"14-looping-data-sets.md"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">loop</span><span class="op">$</span><span class="va">body</span> <span class="co"># a full document with block quotes and code blocks, etc</span></span>
<span><span class="va">loop</span><span class="op">$</span><span class="fu">get_blocks</span><span class="op">(</span><span class="op">)</span> <span class="co"># all the blocks in the episode</span></span>
<span><span class="va">loop</span><span class="op">$</span><span class="fu">unblock</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">loop</span><span class="op">$</span><span class="fu">get_blocks</span><span class="op">(</span><span class="op">)</span> <span class="co"># no blocks</span></span>
<span><span class="va">loop</span><span class="op">$</span><span class="va">code</span> <span class="co"># now there are two blocks with challenge tags</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Episode-summary"></a><div class="section">
<h3 id="method-summary-">Method <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code><a class="anchor" aria-label="anchor" href="#method-summary-"></a></h3>
<p>Get a high-level summary of the elements in the episode</p><div class="section">
<h4 id="usage-23">Usage<a class="anchor" aria-label="anchor" href="#usage-23"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Episode</span><span class="op">$</span><span class="fu">summary</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="returns-12">Returns<a class="anchor" aria-label="anchor" href="#returns-12"></a></h4>
<p>a data frame with counts of the following elements per page:</p><ul><li><p>sections: level 2 headings</p></li>
<li><p>headings: all headings</p></li>
<li><p>callouts: all callouts</p></li>
<li><p>challenges: subset of callouts</p></li>
<li><p>solutions: subset of callouts</p></li>
<li><p>code: all code block elements (excluding inline code)</p></li>
<li><p>output: subset of code that is displayed as output</p></li>
<li><p>warnining: subset of code that is displayed as a warning</p></li>
<li><p>error: subset of code that is displayed as an error</p></li>
<li><p>images: all images in markdown or HTML</p></li>
<li><p>links: all links in markdown or HTML</p></li>
</ul></div>

</div><p></p><hr><a id="method-Episode-validate_headings"></a><div class="section">
<h3 id="method-validate-headings-">Method <code><a href="validate_headings.html">validate_headings()</a></code><a class="anchor" aria-label="anchor" href="#method-validate-headings-"></a></h3>
<p>perform validation on headings in a document.</p>
<p>This will validate the following aspects of all headings:</p><ul><li><p>first heading starts at level 2 (<code>first_heading_is_second_level</code>)</p></li>
<li><p>greater than level 1 (<code>greater_than_first_level</code>)</p></li>
<li><p>increse sequentially (e.g. no jumps from 2 to 4) (<code>are_sequential</code>)</p></li>
<li><p>have names (<code>have_names</code>)</p></li>
<li><p>unique in their own hierarchy (<code>are_unique</code>)</p></li>
</ul><div class="section">
<h4 id="usage-24">Usage<a class="anchor" aria-label="anchor" href="#usage-24"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Episode</span><span class="op">$</span><span class="fu">validate_headings</span><span class="op">(</span>verbose <span class="op">=</span> <span class="cn">TRUE</span>, warn <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-12">Arguments<a class="anchor" aria-label="anchor" href="#arguments-12"></a></h4>
<p></p><div class="arguments"><dl><dt><code>verbose</code></dt>
<dd><p>if <code>TRUE</code> (default), a message for each rule broken will
be issued to the stderr. if <code>FALSE</code>, this will be silent.</p></dd>


<dt><code>warn</code></dt>
<dd><p>if <code>TRUE</code> (default), a warning will be issued if there are
any failures in the tests.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-13">Returns<a class="anchor" aria-label="anchor" href="#returns-13"></a></h4>
<p>a data frame with a variable number of rows and the follwoing
columns:</p><ul><li><p><strong>episode</strong> the filename of the episode</p></li>
<li><p><strong>heading</strong> the text from a heading</p></li>
<li><p><strong>level</strong> the heading level</p></li>
<li><p><strong>pos</strong> the position of the heading in the document</p></li>
<li><p><strong>node</strong> the XML node that represents the heading</p></li>
<li><p>(the next five columns are the tests listed above)</p></li>
<li><p><strong>path</strong> the path to the file.</p></li>
</ul><p>Each row in the data frame represents an individual heading across the
Lesson. See <code><a href="validate_headings.html">validate_headings()</a></code> for more details.</p>
</div>
<div class="section">
<h4 id="examples-10">Examples<a class="anchor" aria-label="anchor" href="#examples-10"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="co"># Example: There are multiple headings called "Solution" that are not</span></span>
<span><span class="co"># nested within a higher-level heading and will throw an error</span></span>
<span><span class="va">loop</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/Episode.html">Episode</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="../reference/lesson_fragment.html">lesson_fragment</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"_episodes"</span>, <span class="st">"14-looping-data-sets.md"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">loop</span><span class="op">$</span><span class="fu">validate_headings</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Episode-validate_divs"></a><div class="section">
<h3 id="method-validate-divs-">Method <code><a href="validate_divs.html">validate_divs()</a></code><a class="anchor" aria-label="anchor" href="#method-validate-divs-"></a></h3>
<p>perform validation on divs in a document.</p>
<p>This will validate the following aspects of divs. See <code><a href="validate_divs.html">validate_divs()</a></code>
for details.</p><ul><li><p>divs are of a known type (<code>is_known</code>)</p></li>
</ul><div class="section">
<h4 id="usage-25">Usage<a class="anchor" aria-label="anchor" href="#usage-25"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Episode</span><span class="op">$</span><span class="fu">validate_divs</span><span class="op">(</span>warn <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-13">Arguments<a class="anchor" aria-label="anchor" href="#arguments-13"></a></h4>
<p></p><div class="arguments"><dl><dt><code>warn</code></dt>
<dd><p>if <code>TRUE</code> (default), a warning message will be if there are
any divs determined to be invalid. Set to <code>FALSE</code> if you want the
table for processing later.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-14">Returns<a class="anchor" aria-label="anchor" href="#returns-14"></a></h4>
<p>a logical <code>TRUE</code> for valid divs and <code>FALSE</code> for invalid
divs.</p>
</div>
<div class="section">
<h4 id="examples-11">Examples<a class="anchor" aria-label="anchor" href="#examples-11"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va">loop</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/Episode.html">Episode</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="../reference/lesson_fragment.html">lesson_fragment</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"_episodes"</span>, <span class="st">"14-looping-data-sets.md"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">loop</span><span class="op">$</span><span class="fu">validate_divs</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Episode-validate_links"></a><div class="section">
<h3 id="method-validate-links-">Method <code><a href="validate_links.html">validate_links()</a></code><a class="anchor" aria-label="anchor" href="#method-validate-links-"></a></h3>
<p>perform validation on links and images in a document.</p>
<p>This will validate the following aspects of links. See <code><a href="validate_links.html">validate_links()</a></code>
for details.</p><ul><li><p>External links use HTTPS (<code>enforce_https</code>)</p></li>
<li><p>Internal links exist (<code>internal_okay</code>)</p></li>
<li><p>External links are reachable (<code>all_reachable</code>) (planned)</p></li>
<li><p>Images have alt text (<code>img_alt_text</code>)</p></li>
<li><p>Link text is descriptive (<code>descriptive</code>)</p></li>
<li><p>Link text is more than a single letter (<code>link_length</code>)</p></li>
</ul><div class="section">
<h4 id="usage-26">Usage<a class="anchor" aria-label="anchor" href="#usage-26"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Episode</span><span class="op">$</span><span class="fu">validate_links</span><span class="op">(</span>warn <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-14">Arguments<a class="anchor" aria-label="anchor" href="#arguments-14"></a></h4>
<p></p><div class="arguments"><dl><dt><code>warn</code></dt>
<dd><p>if <code>TRUE</code> (default), a warning message will be if there are
any links determined to be invalid. Set to <code>FALSE</code> if you want the
table for processing later.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-15">Returns<a class="anchor" aria-label="anchor" href="#returns-15"></a></h4>
<p>a logical <code>TRUE</code> for valid links and <code>FALSE</code> for invalid
links.</p>
</div>
<div class="section">
<h4 id="examples-12">Examples<a class="anchor" aria-label="anchor" href="#examples-12"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va">loop</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/Episode.html">Episode</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="../reference/lesson_fragment.html">lesson_fragment</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"_episodes"</span>, <span class="st">"14-looping-data-sets.md"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">loop</span><span class="op">$</span><span class="fu">validate_links</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Episode-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-27">Usage<a class="anchor" aria-label="anchor" href="#usage-27"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Episode</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-15">Arguments<a class="anchor" aria-label="anchor" href="#arguments-15"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Episode$new`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">scope</span> <span class="op">&lt;-</span> <span class="va">Episode</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="lesson_fragment.html">lesson_fragment</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"_episodes"</span>, <span class="st">"17-scope.md"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">scope</span><span class="op">$</span><span class="va">name</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "17-scope.md"</span>
<span class="r-in"><span><span class="va">scope</span><span class="op">$</span><span class="va">lesson</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "/home/runner/work/_temp/Library/pegboard/lesson-fragment"</span>
<span class="r-in"><span><span class="va">scope</span><span class="op">$</span><span class="va">challenges</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> {xml_nodeset (2)}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] &lt;block_quote sourcepos="45:1-60:14" ktag="{: .challenge}"&gt;\n  &lt;heading so ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2] &lt;block_quote sourcepos="62:1-95:14" ktag="{: .challenge}"&gt;\n  &lt;heading so ...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Episode$get_blocks`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">scope</span> <span class="op">&lt;-</span> <span class="va">Episode</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="lesson_fragment.html">lesson_fragment</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"_episodes"</span>, <span class="st">"17-scope.md"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># get all the challenges</span></span></span>
<span class="r-in"><span><span class="va">scope</span><span class="op">$</span><span class="fu">get_blocks</span><span class="op">(</span><span class="st">".challenge"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> {xml_nodeset (2)}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] &lt;block_quote sourcepos="45:1-60:14" ktag="{: .challenge}"&gt;\n  &lt;heading so ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2] &lt;block_quote sourcepos="62:1-95:14" ktag="{: .challenge}"&gt;\n  &lt;heading so ...</span>
<span class="r-in"><span><span class="co"># get the solutions</span></span></span>
<span class="r-in"><span><span class="va">scope</span><span class="op">$</span><span class="fu">get_blocks</span><span class="op">(</span><span class="st">".solution"</span>, level <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> {xml_nodeset (0)}</span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># download the source files for r-novice-gampinder into a Lesson object</span></span></span>
<span class="r-in"><span>  <span class="va">rng</span> <span class="op">&lt;-</span> <span class="fu"><a href="get_lesson.html">get_lesson</a></span><span class="op">(</span><span class="st">"swcarpentry/r-novice-gapminder"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">dsp1</span> <span class="op">&lt;-</span> <span class="va">rng</span><span class="op">$</span><span class="va">episodes</span><span class="op">[[</span><span class="st">"04-data-structures-part1.md"</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-in"><span>  <span class="co"># There are 9 blocks in total</span></span></span>
<span class="r-in"><span>  <span class="va">dsp1</span><span class="op">$</span><span class="fu">get_blocks</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="co"># One is a callout block</span></span></span>
<span class="r-in"><span>  <span class="va">dsp1</span><span class="op">$</span><span class="fu">get_blocks</span><span class="op">(</span><span class="st">".callout"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="co"># One is a discussion block</span></span></span>
<span class="r-in"><span>  <span class="va">dsp1</span><span class="op">$</span><span class="fu">get_blocks</span><span class="op">(</span><span class="st">".discussion"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="co"># Seven are Challenge blocks</span></span></span>
<span class="r-in"><span>  <span class="va">dsp1</span><span class="op">$</span><span class="fu">get_blocks</span><span class="op">(</span><span class="st">".challenge"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="co"># There are eight solution blocks:</span></span></span>
<span class="r-in"><span>  <span class="va">dsp1</span><span class="op">$</span><span class="fu">get_blocks</span><span class="op">(</span><span class="st">".solution"</span>, level <span class="op">=</span> <span class="fl">2L</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Episode$get_images`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">loop</span> <span class="op">&lt;-</span> <span class="va">Episode</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="lesson_fragment.html">lesson_fragment</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"_episodes"</span>, <span class="st">"14-looping-data-sets.md"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">loop</span><span class="op">$</span><span class="fu">get_images</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> {xml_nodeset (5)}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] &lt;html_block sourcepos="174:1-174:86" xml:space="preserve"&gt;&amp;lt;img src="ht ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2] &lt;html_block sourcepos="176:1-176:49" xml:space="preserve"&gt;&amp;lt;img src=".. ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3] &lt;image sourcepos="180:1-180:74" destination="https://carpentries.org/asse ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4] &lt;image sourcepos="182:1-182:38" destination="../no-workie.svg" title=""&gt;\ ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5] &lt;image destination="{{ page.root }}/no-workie.svg" sourcepos="184:1-184:7 ...</span>
<span class="r-in"><span><span class="va">loop</span><span class="op">$</span><span class="fu">get_images</span><span class="op">(</span>process <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> {xml_nodeset (5)}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] &lt;img src="https://carpentries.org/assets/img/TheCarpentries.svg" alt="boo ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2] &lt;img src="../no-workie.svg" alt="books as clubs" destination="../no-worki ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3] &lt;image sourcepos="180:1-180:74" destination="https://carpentries.org/asse ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4] &lt;image sourcepos="182:1-182:38" destination="../no-workie.svg" title=""&gt;\ ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5] &lt;image destination="{{ page.root }}/no-workie.svg" sourcepos="184:1-184:7 ...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Episode$get_challenge_graph`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">scope</span> <span class="op">&lt;-</span> <span class="va">Episode</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="lesson_fragment.html">lesson_fragment</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"_episodes"</span>, <span class="st">"17-scope.md"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">scope</span><span class="op">$</span><span class="fu">get_challenge_graph</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Block       from         to        pos level</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     1  challenge    heading 45:1-60:14     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     1    heading  paragraph 45:3-45:34     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     1  paragraph code_block 47:3-48:68     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     1 code_block     lesson  50:3-58:5     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     2  challenge    heading 62:1-95:14     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     2    heading  paragraph 62:3-62:27     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7     2  paragraph       list 64:3-64:55     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8     2       list code_block  66:3-72:1     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9     2 code_block     lesson  73:3-93:5     1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Episode$show`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">scope</span> <span class="op">&lt;-</span> <span class="va">Episode</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="lesson_fragment.html">lesson_fragment</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"_episodes"</span>, <span class="st">"17-scope.md"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">scope</span><span class="op">$</span><span class="fu">head</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> title: "Variable Scope"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> teaching: 10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> exercises: 10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> questions:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - "How do function calls actually work?"</span>
<span class="r-in"><span><span class="va">scope</span><span class="op">$</span><span class="fu">tail</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; KeyError: 'Friday'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; ```</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; {: .error}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> {: .challenge}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="va">scope</span><span class="op">$</span><span class="fu">show</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> title: "Variable Scope"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> teaching: 10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> exercises: 10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> questions:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - "How do function calls actually work?"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - "How can I determine where errors occurred?"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> objectives:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - "Identify local and global variables."</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - "Identify parameters as local variables."</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - "Read a traceback and determine the file, function, and line number on which the error occurred, the type of error, and the error message."</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> keypoints:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - "The scope of a variable is the part of a program that can 'see' that variable."</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## The scope of a variable is the part of a program that can 'see' that variable.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - There are only so many sensible names for variables.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - People using functions shouldn't have to worry about</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   what variable names the author of the function used.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - People writing functions shouldn't have to worry about</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   what variable names the function's caller uses.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - The part of a program in which a variable is visible is called its *scope*.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ```</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> pressure = 103.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> def adjust(t):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     temperature = t * 1.43 / pressure</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     return temperature</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ```</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> {: .language-python}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `pressure` is a *global variable*.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Defined outside any particular function.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Visible everywhere.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `t` and `temperature` are *local variables* in `adjust`.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Defined in the function.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Not visible in the main program.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Remember: a function parameter is a variable</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     that is automatically assigned a value when the function is called.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ```</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> print('adjusted:', adjust(0.9))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> print('temperature after call:', temperature)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ```</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> {: .language-python}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ```</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> adjusted: 0.01238691049085659</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ```</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> {: .output}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ```</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Traceback (most recent call last):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   File "/Users/swcarpentry/foo.py", line 8, in &lt;module&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     print('temperature after call:', temperature)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NameError: name 'temperature' is not defined</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ```</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> {: .error}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; ## Local and Global Variable Use</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; Trace the values of all variables in this program as it is executed.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; (Use '---' as the value of variables before and after they exist.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; ```</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; limit = 100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; def clip(value):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt;     return min(max(0.0, value), limit)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; value = -22.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; print(clip(value))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; ```</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; {: .language-python}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> {: .challenge}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; ## Reading Error Messages</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; Read the traceback below, and identify the following:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; 1. How many levels does the traceback have?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; 2. What is the file name where the error occurred?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; 3. What is the function name where the error occurred?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; 4. On which line number in this function did the error occur?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; 5. What is the type of error?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; 6. What is the error message?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; ```</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; ---------------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; KeyError                                  Traceback (most recent call last)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; &lt;ipython-input-2-e4c4cbafeeb5&gt; in &lt;module&gt;()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt;       1 import errors_02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; ----&gt; 2 errors_02.print_friday_message()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; /Users/ghopper/thesis/code/errors_02.py in print_friday_message()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt;      13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt;      14 def print_friday_message():</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; ---&gt; 15     print_message("Friday")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; /Users/ghopper/thesis/code/errors_02.py in print_message(day)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt;       9         "sunday": "Aw, the weekend is almost over."</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt;      10     }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; ---&gt; 11     print(messages[day])</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt;      12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt;      13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; KeyError: 'Friday'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; ```</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; {: .error}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> {: .challenge}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Episode$write`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">scope</span> <span class="op">&lt;-</span> <span class="va">Episode</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="lesson_fragment.html">lesson_fragment</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"_episodes"</span>, <span class="st">"17-scope.md"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">scope</span><span class="op">$</span><span class="fu">write</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Creating temporary directory '/tmp/RtmpLQc8Mr/dir1ba36f4f5b36'</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Episode$handout`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">lsn</span> <span class="op">&lt;-</span> <span class="va"><a href="Lesson.html">Lesson</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="fu"><a href="lesson_fragment.html">lesson_fragment</a></span><span class="op">(</span><span class="st">"sandpaper-fragment"</span><span class="op">)</span>, jekyll <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">e</span> <span class="op">&lt;-</span> <span class="va">lsn</span><span class="op">$</span><span class="va">episodes</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="va">e</span><span class="op">$</span><span class="fu">handout</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Challenge 1: Can you do it?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> What is the output of this command?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ```{r, eval=FALSE}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> paste("This", "new", "template", "looks", "good")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ```</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="va">e</span><span class="op">$</span><span class="fu">handout</span><span class="op">(</span>solution <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Challenge 1: Can you do it?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> What is the output of this command?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ```{r, eval=FALSE}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> paste("This", "new", "template", "looks", "good")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ```</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> :::::::::::::::::::::::: solution</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Output</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ```{r, echo=FALSE}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> paste("This", "new", "template", "looks", "good")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ```</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ::::::::::::::::::::::::::::::::::</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Challenge 2: how do you nest solutions within challenge blocks?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> :::::::::::::::::::::::: solution</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> You can add a line with at least three colons and a `solution` tag.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Episode$reset`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">scope</span> <span class="op">&lt;-</span> <span class="va">Episode</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="lesson_fragment.html">lesson_fragment</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"_episodes"</span>, <span class="st">"17-scope.md"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">xml2</span><span class="fu">::</span><span class="fu"><a href="http://xml2.r-lib.org/reference/xml_text.html" class="external-link">xml_text</a></span><span class="op">(</span><span class="va">scope</span><span class="op">$</span><span class="va">tags</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "{: .language-python}"</span>
<span class="r-in"><span><span class="fu">xml2</span><span class="fu">::</span><span class="fu"><a href="http://xml2.r-lib.org/reference/xml_text.html" class="external-link">xml_set_text</a></span><span class="op">(</span><span class="va">scope</span><span class="op">$</span><span class="va">tags</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="st">"{: .code}"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> {xml_nodeset (1)}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  ktag="{: .language-python}"</span>
<span class="r-in"><span><span class="fu">xml2</span><span class="fu">::</span><span class="fu"><a href="http://xml2.r-lib.org/reference/xml_text.html" class="external-link">xml_text</a></span><span class="op">(</span><span class="va">scope</span><span class="op">$</span><span class="va">tags</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "{: .language-python}"</span>
<span class="r-in"><span><span class="va">scope</span><span class="op">$</span><span class="fu">reset</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">xml2</span><span class="fu">::</span><span class="fu"><a href="http://xml2.r-lib.org/reference/xml_text.html" class="external-link">xml_text</a></span><span class="op">(</span><span class="va">scope</span><span class="op">$</span><span class="va">tags</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "{: .language-python}"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Episode$isolate_blocks`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">scope</span> <span class="op">&lt;-</span> <span class="va">Episode</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="lesson_fragment.html">lesson_fragment</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"_episodes"</span>, <span class="st">"17-scope.md"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">scope</span><span class="op">$</span><span class="va">body</span> <span class="co"># a full document with block quotes and code blocks, etc</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> {xml_document}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;document sourcepos="1:1-95:14" xmlns="http://commonmark.org/xml/1.0"&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] &lt;heading sourcepos="1:1-1:81" level="2"&gt;\n  &lt;text sourcepos="1:4-1:81" xm ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2] &lt;list sourcepos="3:1-9:0" type="bullet" tight="true"&gt;\n  &lt;item sourcepos= ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3] &lt;code_block sourcepos="10:1-16:3" xml:space="preserve" name="" ktag="{: . ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4] &lt;list sourcepos="19:1-27:0" type="bullet" tight="true"&gt;\n  &lt;item sourcepo ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5] &lt;code_block sourcepos="28:1-31:3" xml:space="preserve" name="" ktag="{: . ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6] &lt;code_block sourcepos="33:1-35:3" xml:space="preserve" name="" ktag="{: . ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [7] &lt;code_block sourcepos="37:1-42:3" xml:space="preserve" name="" ktag="{: . ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [8] &lt;block_quote sourcepos="45:1-60:14" ktag="{: .challenge}"&gt;\n  &lt;heading so ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [9] &lt;block_quote sourcepos="62:1-95:14" ktag="{: .challenge}"&gt;\n  &lt;heading so ...</span>
<span class="r-in"><span><span class="va">scope</span><span class="op">$</span><span class="fu">isolate_blocks</span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">body</span> <span class="co"># only one challenge block_quote</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> {xml_document}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;document sourcepos="1:1-95:14" xmlns="http://commonmark.org/xml/1.0"&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] &lt;block_quote sourcepos="45:1-60:14" ktag="{: .challenge}"&gt;\n  &lt;heading so ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2] &lt;block_quote sourcepos="62:1-95:14" ktag="{: .challenge}"&gt;\n  &lt;heading so ...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Episode$unblock`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">loop</span> <span class="op">&lt;-</span> <span class="va">Episode</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="lesson_fragment.html">lesson_fragment</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"_episodes"</span>, <span class="st">"14-looping-data-sets.md"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">loop</span><span class="op">$</span><span class="va">body</span> <span class="co"># a full document with block quotes and code blocks, etc</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> {xml_document}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;document sourcepos="1:1-190:22" xmlns="http://commonmark.org/xml/1.0"&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] &lt;heading sourcepos="2:1-2:65" level="2"&gt;\n  &lt;text sourcepos="2:4-2:9" xm ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2] &lt;list sourcepos="4:1-6:0" type="bullet" tight="true"&gt;\n  &lt;item sourcepos ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3] &lt;code_block sourcepos="7:1-12:3" xml:space="preserve" name="" ktag="{: . ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4] &lt;code_block sourcepos="14:1-33:3" xml:space="preserve" name="" ktag="{:  ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5] &lt;heading sourcepos="36:1-36:126" level="2"&gt;\n  &lt;text sourcepos="36:4-36: ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6] &lt;list sourcepos="38:1-47:0" type="bullet" tight="true"&gt;\n  &lt;item sourcep ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7] &lt;code_block sourcepos="48:1-51:3" xml:space="preserve" name="" ktag="{:  ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] &lt;code_block sourcepos="53:1-57:3" xml:space="preserve" name="" ktag="{:  ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9] &lt;code_block sourcepos="60:1-62:3" xml:space="preserve" name="" ktag="{:  ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10] &lt;code_block sourcepos="64:1-66:3" xml:space="preserve" name="" ktag="{:  ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11] &lt;heading sourcepos="69:1-69:52" level="2"&gt;\n  &lt;text sourcepos="69:4-69:7 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [12] &lt;list sourcepos="71:1-73:0" type="bullet" tight="true"&gt;\n  &lt;item sourcep ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [13] &lt;code_block sourcepos="74:1-78:3" xml:space="preserve" name="" ktag="{:  ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [14] &lt;code_block sourcepos="80:1-87:3" xml:space="preserve" name="" ktag="{:  ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [15] &lt;list sourcepos="90:1-94:0" type="bullet" tight="true"&gt;\n  &lt;item sourcep ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [16] &lt;block_quote sourcepos="95:1-108:14" ktag="{: .challenge}"&gt;\n  &lt;heading  ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [17] &lt;block_quote sourcepos="110:1-140:14" ktag="{: .challenge}"&gt;\n  &lt;heading ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [18] &lt;block_quote sourcepos="142:1-170:14" ktag="{: .challenge}"&gt;\n  &lt;heading ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [19] &lt;heading sourcepos="172:1-172:29" level="3"&gt;\n  &lt;text sourcepos="172:5-1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [20] &lt;html_block sourcepos="174:1-174:86" xml:space="preserve"&gt;&amp;lt;img src="h ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ...</span>
<span class="r-in"><span><span class="va">loop</span><span class="op">$</span><span class="fu">get_blocks</span><span class="op">(</span><span class="op">)</span> <span class="co"># all the blocks in the episode</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> {xml_nodeset (3)}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] &lt;block_quote sourcepos="95:1-108:14" ktag="{: .challenge}"&gt;\n  &lt;heading s ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2] &lt;block_quote sourcepos="110:1-140:14" ktag="{: .challenge}"&gt;\n  &lt;heading  ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3] &lt;block_quote sourcepos="142:1-170:14" ktag="{: .challenge}"&gt;\n  &lt;heading  ...</span>
<span class="r-in"><span><span class="va">loop</span><span class="op">$</span><span class="fu">unblock</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">loop</span><span class="op">$</span><span class="fu">get_blocks</span><span class="op">(</span><span class="op">)</span> <span class="co"># no blocks</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> {xml_nodeset (0)}</span>
<span class="r-in"><span><span class="va">loop</span><span class="op">$</span><span class="va">code</span> <span class="co"># now there are two blocks with challenge tags</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> {xml_nodeset (11)}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] &lt;code_block sourcepos="7:1-12:3" xml:space="preserve" name="" ktag="{: . ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2] &lt;code_block sourcepos="14:1-33:3" xml:space="preserve" name="" ktag="{:  ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3] &lt;code_block sourcepos="48:1-51:3" xml:space="preserve" name="" ktag="{:  ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4] &lt;code_block sourcepos="53:1-57:3" xml:space="preserve" name="" ktag="{:  ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5] &lt;code_block sourcepos="60:1-62:3" xml:space="preserve" name="" ktag="{:  ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6] &lt;code_block sourcepos="64:1-66:3" xml:space="preserve" name="" ktag="{:  ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7] &lt;code_block sourcepos="74:1-78:3" xml:space="preserve" name="" ktag="{:  ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] &lt;code_block sourcepos="80:1-87:3" xml:space="preserve" name="" ktag="{:  ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9] &lt;code_block sourcepos="115:3-123:5" xml:space="preserve" name="" ktag="{ ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10] &lt;code_block sourcepos="129:5-137:7" xml:space="preserve" name="" ktag="{ ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11] &lt;code_block sourcepos="152:5-167:7" xml:space="preserve" name="" ktag="{ ...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Episode$validate_headings`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example: There are multiple headings called "Solution" that are not</span></span></span>
<span class="r-in"><span><span class="co"># nested within a higher-level heading and will throw an error</span></span></span>
<span class="r-in"><span><span class="va">loop</span> <span class="op">&lt;-</span> <span class="va">Episode</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="lesson_fragment.html">lesson_fragment</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"_episodes"</span>, <span class="st">"14-looping-data-sets.md"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">loop</span><span class="op">$</span><span class="fu">validate_headings</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">!</span> There were errors in 3/10 headings</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ◌ Headings must be unique</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB; font-style: italic;">&lt;https://webaim.org/techniques/semanticstructure/#headings&gt;</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ::warning file=_episodes/14-looping-data-sets.md,line=119:: (duplicated)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ::warning file=_episodes/14-looping-data-sets.md,line=143:: (duplicated)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ::warning file=_episodes/14-looping-data-sets.md,line=162:: (duplicated)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ── Heading structure ───────────────────────────────────────────────────────────</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Episode: “Looping Over Data Sets” </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ├─## Use a for loop to process files given a list of their names. </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ├─## Use glob.glob to find sets of files whose names match a pattern. </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ├─## Use glob and for to process batches of files. </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ├─## Determining Matches </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ├─## Solution  (duplicated)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ├─## Minimum File Size </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ├─## Solution  (duplicated)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ├─## Comparing Data </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> └─## Solution  (duplicated)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   └─### ZNK test links and images </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ────────────────────────────────────────────────────────────────────────────────</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Episode$validate_divs`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">loop</span> <span class="op">&lt;-</span> <span class="va">Episode</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="lesson_fragment.html">lesson_fragment</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"_episodes"</span>, <span class="st">"14-looping-data-sets.md"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">loop</span><span class="op">$</span><span class="fu">validate_divs</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Episode$validate_links`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">loop</span> <span class="op">&lt;-</span> <span class="va">Episode</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="lesson_fragment.html">lesson_fragment</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"_episodes"</span>, <span class="st">"14-looping-data-sets.md"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">loop</span><span class="op">$</span><span class="fu">validate_links</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">!</span> There were errors in 4/13 images</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ◌ Some linked internal files do not exist &lt;https://carpentries.github.io/sandpaper/articles/include-child-documents.html#workspace-consideration&gt;</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ◌ Images need alt-text &lt;https://webaim.org/techniques/hypertext/link_text#alt_link&gt;</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ::warning file=_episodes/14-looping-data-sets.md,line=191:: [missing file]: [](../no-workie.svg)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ::warning file=_episodes/14-looping-data-sets.md,line=195:: [image missing alt-text]: https://carpentries.org/assets/img/TheCarpentries.svg</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ::warning file=_episodes/14-looping-data-sets.md,line=197:: [missing file]: [Non-working image](../no-workie.svg) [image missing alt-text]: ../no-workie.svg</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ::warning file=_episodes/14-looping-data-sets.md,line=199:: [image missing alt-text]: { page.root }/no-workie.svg</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Robert Davey, Erin Becker, Zhian N. Kamvar.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

